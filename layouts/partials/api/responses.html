
{{- $details := . }}
{{- with $details.responses}}
<h4>Responses</h4>
<div class="space-y-2">
    {{- range $statusCode, $response := . }}
    <div class="bg-zinc-100 p-1 rounded">
        <h5>{{ $statusCode }}</h5>
        <p>{{ $response.description }}</p>
        {{- with (index $response.content "application/json").schema }}
        <div class="bg-zinc-200 p-1 rounded space-y-2">
            <h6>Schema</h6>
            {{- with .type }}
            <p>Type: <code>{{ . }}</code></p>
            {{- end }}
            {{- if eq .type "array"}}
                {{- with .items}}
                    {{- range $ref, $value := . }}
                    {{ $path := strings.TrimPrefix "#/" $value }} <!-- example: components/schemas/Item  -->
                    {{/*  convert / to dots and add .Site.Data  */}}
                    {{$path}}
                    {{- end }}
                {{- end }}
            {{- end }}
        </div>
        {{- end }}
    </div>
    {{- end }}
</div>
{{- end }}
